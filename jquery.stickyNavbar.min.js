(function($,window,document){$.fn.stickyNavbar=function(prop){var options=$.extend({activeClass:"active",sectionSelector:"scrollto",navOffset:0,animDuration:550,startAt:0,easing:"linear",animateCSS:true,animateCSSRepeat:false,bottomAnimation:false,cssAnimation:"fadeInDown",jqueryEffects:false,jqueryAnim:"slideDown",selector:"a"},prop),section=$("."+options.sectionSelector);return this.each(function(){var $self=$(this),$selfPosition=$self.css("position"),$selfZindex=$self.css("zIndex"),$selfScrollTop=
$self.offset().top,$topOffset=$self.css("top")==="auto"?0:$self.css("top"),menuItems=options.selector==="a"?$self.find("li a"):$self.find("li"),menuItemsHref=$self.find("li a[href*=#]"),thisHeight=$self.outerHeight(true);menuItemsHref.click(function(){$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top-options.navOffset-thisHeight+2},options.animDuration,options.easing);return false});$(window).scroll(function(){var win=$(window),windowPosition=win.scrollTop();menuItems.removeClass(options.activeClass);
section.each(function(){var top=$(this).offset().top-thisHeight,bottom=$(this).outerHeight(true)+top;if(windowPosition>=top&&windowPosition<=bottom)if(options.selector==="a")$self.find('li a[href~="#'+this.id+'"]').addClass(options.activeClass);else $self.find('li a[href~="#'+this.id+'"]').parent().addClass(options.activeClass)});if(windowPosition>=$selfScrollTop+options.startAt){$self.css({"position":"fixed","zIndex":9999}).stop().animate({top:options.navOffset},options.animDuration,options.easing);
if(options.jqueryEffects){if(!options.animateCSSRepeat)$self.hide().stop()[options.jqueryAnim](options.animDuration,options.easing);$self.hide().stop()[options.jqueryAnim](options.animDuration,options.easing)}else if(options.animateCSS){if(options.animateCSSRepeat&&options.bottomAnimation)$self.removeClass(options.cssAnimation+" animated");setTimeout(function(){$self.stop().addClass(options.cssAnimation+" animated")},1)}else $self.stop().animate({top:options.navOffset},options.animDuration,options.easing)}else $self.css({"position":options.$selfPosition,
"zIndex":$selfZindex});if(win.scrollTop()+win.height()>=$(document).height()){$self.removeClass(options.cssAnimation+" animated");menuItems.removeClass(options.activeClass).last().addClass(options.activeClass);if(options.bottomAnimation){$self.removeClass(options.cssAnimation+" animated");setTimeout(function(){$self.addClass(options.cssAnimation+" animated")},1)}}if(windowPosition<=$selfScrollTop){$self.removeClass(options.cssAnimation+" animated");if(options.jqueryEffects){if(windowPosition===0)menuItems.removeClass(options.activeClass);
if(windowPosition>=$selfScrollTop)$self.css({"position":"fixed","zIndex":9999,"top":options.navOffset}).hide().stop()[options.jqueryAnim](options.animDuration,options.easing);else $self.css({"position":$selfPosition,"zIndex":9999,"top":options.navOffset})}else{if(windowPosition===0)menuItems.removeClass(options.activeClass);$self.css({"position":$selfPosition,"top":$topOffset}).stop().animate({top:$topOffset},options.animDuration,options.easing)}}})})}})(jQuery,window,document);
